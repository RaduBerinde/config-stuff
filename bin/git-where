#!/bin/bash

. git-common-stuff.sh

base=`git merge-base upstream/master HEAD 2>/dev/null || git merge-base origin/master HEAD`

echo Branches:
#git branch -v -a
git branch -v

echo
echo Changes:
git diff --stat $base..HEAD

echo
echo -e "Upstream branch: ${COLGR}`get_upstream_branch`${COLn}"

# Show commits on top of master
echo
echo Commits:
git --no-pager log --color --graph --oneline --decorate $base..HEAD
echo '*' `git log --color --oneline --decorate -1 $base`

echo
echo Status:
git status
